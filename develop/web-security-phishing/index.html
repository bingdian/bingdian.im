<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn" lang="zh-cn">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.92.1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <meta name="apple-mobile-web-app-title" content="On The Way" />
  <meta name="application-name" content="On The Way" />

  <title>Web 安全系列 - 钓鱼攻击篇 &middot; On The Way</title>
  <meta name="description" content="" />

  <link type="text/css" rel="stylesheet" href="https://bingdian.io/css/main.css">
  <link type="text/css" rel="stylesheet" href="https://bingdian.io/css/heti.min.css">
  <link rel="apple-touch-icon" href="/images/touch-icon.png" />
  <link rel="shortcut icon" href="/images/favicon.ico">

  
</head>
<body class=" ">
  <div id="wrapper">
    <header id="header" class="clear">
  <h1>Web 安全系列 - 钓鱼攻击篇</h1>
</header>

<nav id="nav">
  <a href="https://bingdian.io/">Home</a>
  <a href="/tags/index.html"> TAGS </a><a href="https://github.com/bingdian"> PROJECTS </a><a href="/about/index.html"> ABOUT </a>
</nav>

    <main id="main" class="content container">
      <article>

  <div class="post-date">- Posted on <time class="updated" datetime="2022-03-21T21:57:00&#43;0800">2022-03-21</time></div>

  <div class="entry-content heti"}>
    <p>钓鱼攻击有有多种方式，本篇主要讲 Web 安全中常见的 url 钓鱼 iframe 钓鱼、401 钓鱼。</p>
<h2 id="一-url-钓鱼">一、 url 钓鱼</h2>
<p>用户在可信网站上点击链接，由于服务端未对传入的跳转 url 进行检查校验，可能导致可恶意构造任意一个恶意地址，诱导用户跳转到恶意网站。 由于是从可信的站点跳转出去的，用户会比较信任，通过转到恶意网站欺骗用户输入用户名和密码盗取用户信息，或欺骗用户进行金钱交易。</p>
<h3 id="防范方式">防范方式</h3>
<p>跳转域名使用域名白名单，阻止非白名单域名跳转，或者跳转到非白名单域名时给用户提示。</p>
<h2 id="二-iframe-钓鱼">二、 iframe 钓鱼</h2>
<p>通过内嵌 iframe 到被攻击的网页中，攻击者可以引导用户去点击iframe 指向的危险网站，甚至遮盖，影响网站的正常功能，劫持用户的点击操作。</p>
<h3 id="防范方式-1">防范方式</h3>
<p>使用 X-Frame-Options 响应头</p>
<ul>
<li>DENY - 页面不允许在 frame 中展示</li>
<li>SAMEORIGIN - 页面可以在相同域名页面的 frame 中展示</li>
<li>ALLOW-FROM <a href="https://example.com/">https://example.com/</a> - 页面可以在指定来源的 frame 中展示</li>
</ul>
<p>浏览器支持情况详见 <a href="https://caniuse.com/?search=X-Frame-Options">https://caniuse.com/?search=X-Frame-Options</a></p>
<h2 id="三-401-钓鱼">三、 401 钓鱼</h2>
<p>如果允许用户向网页里插入未经验证的外链图片，就有可能出现钓鱼风险。攻击者在被攻击页面插入需要使用 Basic authentication 认证的资源。当用户访问被攻击页面时，页面会弹出输入框让用户输入帐号及密码，当用户输入之后，帐号及密码就存储到了黑客的服务器中。</p>
<p>攻击示例：</p>
<img style="padding: 10px 0;" src="/image/develop/web-security/web-security-401-phishing.png" alt="401 钓鱼" width="480" />
<h3 id="防范方式-2">防范方式</h3>
<p>对用户插入页面的 url 资源进行白名单校验。</p>

  </div>

  <div class="entry-meta"></div>
</article>

<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "bingdian-im" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </main>
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-1245097-20', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    <footer id="footer">
  <p class="copyright"><span class="software">Powered by <a href="https://gohugo.io/" target="_blank">HUGO</a> 0.92.1, &copy; 2022. All rights reserved. </span></p>
</footer>
</div>
  </body>
</html>
